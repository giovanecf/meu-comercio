{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/home/geovani/meu-comercio/mobile/src/View/pages/product/products.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport api from \"../../../Controller/services/api\";\nimport MaterialCommunityIcons from \"@expo/vector-icons/MaterialCommunityIcons\";\nimport Header from \"../../components/Header\";\nimport TopBarGradient from \"../../components/TopBarGradient\";\nimport FloatingButton from \"../../components/FloatingButton\";\nimport RootContainer from \"../../components/RootContainer\";\nimport HeaderContainer from \"../../components/HeaderContainer\";\nimport BodyContainer from \"../../components/BodyContainer\";\nimport Colors from \"../../constants/colors\";\nimport { productTypes } from \"../../../Controller/db\";\n\nvar Product = function (_Component) {\n  _inherits(Product, _Component);\n\n  var _super = _createSuper(Product);\n\n  function Product() {\n    var _this;\n\n    _classCallCheck(this, Product);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      productInfo: {},\n      docs: [],\n      page: 1,\n      productTypes: productTypes\n    };\n\n    _this.loadProducts = function _callee() {\n      var page,\n          response,\n          _response$data,\n          docs,\n          productInfo,\n          _args = arguments;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              page = _args.length > 0 && _args[0] !== undefined ? _args[0] : 1;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(api.get(\"/products?page=\" + page));\n\n            case 3:\n              response = _context.sent;\n              _response$data = response.data, docs = _response$data.docs, productInfo = _objectWithoutProperties(_response$data, [\"docs\"]);\n\n              _this.setState({\n                docs: [].concat(_toConsumableArray(_this.state.docs), _toConsumableArray(docs)),\n                productInfo: productInfo,\n                page: page\n              });\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.renderItem = function (_ref) {\n      var item = _ref.item;\n      return React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          _this.props.navigation.navigate(\"ProductDetails\", {\n            item: item\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 5\n        }\n      }, React.createElement(View, {\n        style: styles.itemContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: styles.imgView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }\n      }, React.createElement(Image, {\n        style: styles.img,\n        source: item.thumbnail,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }\n      })), React.createElement(View, {\n        style: styles.infoView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.descriptionDiscountView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: _objectSpread(_objectSpread({}, styles.infoText), styles.descriptionText),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }\n      }, item.description), React.createElement(View, {\n        style: styles.discountTextView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }\n      }, item.discount > 0 ? React.createElement(MaterialCommunityIcons, {\n        name: \"sale\",\n        color: Colors.discountIcon,\n        size: 18,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }\n      }) : React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }\n      }))), React.createElement(View, {\n        style: styles.pricesView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }\n      }, React.createElement(MaterialCommunityIcons, {\n        name: \"arrow-right-circle-outline\",\n        color: Colors.costLabel,\n        size: 18,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }\n      }), React.createElement(Text, {\n        style: _objectSpread(_objectSpread({}, styles.infoText), styles.costText),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }\n      }, \"R$\", Number(item.costPrice).toFixed(2))), React.createElement(View, {\n        style: styles.bottomLineView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        style: styles.pricesView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }\n      }, React.createElement(MaterialCommunityIcons, {\n        name: \"arrow-left-circle-outline\",\n        color: Colors.sellLabel,\n        size: 18,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 15\n        }\n      }), item.discount > 0 ? React.createElement(Text, {\n        style: _objectSpread(_objectSpread({}, styles.infoText), styles.sellTextWithDiscount),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }\n      }, \"R$\", Number(item.sellPrice - item.discount).toFixed(2)) : React.createElement(Text, {\n        style: _objectSpread(_objectSpread({}, styles.infoText), styles.sellText),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }\n      }, \"R$\", Number(item.sellPrice).toFixed(2))), React.createElement(View, {\n        style: styles.stockTextView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.stockText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 15\n        }\n      }, \"x\", item.stock))))));\n    };\n\n    _this.loadMore = function () {\n      var _this$state = _this.state,\n          page = _this$state.page,\n          productInfo = _this$state.productInfo;\n\n      if (page === productInfo.pages) {\n        return;\n      }\n\n      var pageNumber = page + 1;\n\n      _this.loadProducts(pageNumber);\n    };\n\n    return _this;\n  }\n\n  _createClass(Product, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadProducts();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(RootContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 7\n        }\n      }, React.createElement(HeaderContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 9\n        }\n      }, React.createElement(TopBarGradient, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }\n      }), React.createElement(Header, {\n        title: \"Produtos\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }\n      })), React.createElement(BodyContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 9\n        }\n      }, React.createElement(FlatList, {\n        contentContainerStyle: styles.list,\n        data: this.state.productTypes,\n        keyExtractor: function keyExtractor(item) {\n          return item._id;\n        },\n        renderItem: this.renderItem,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }\n      }), React.createElement(FloatingButton, {\n        icon: \"plus\",\n        onPress: function onPress() {\n          _this2.props.navigation.navigate(\"NewProduct\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }\n      })));\n    }\n  }]);\n\n  return Product;\n}(Component);\n\nexport { Product as default };\nvar styles = StyleSheet.create({\n  list: {\n    padding: 0\n  },\n  itemContainer: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    borderBottomWidth: 1,\n    borderColor: \"#ddd\",\n    padding: 6,\n    flexDirection: \"row\"\n  },\n  descriptionDiscountView: {\n    flex: 1,\n    flexDirection: \"row\",\n    alignContent: \"space-between\"\n  },\n  pricesView: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginRight: 6\n  },\n  bottomLineView: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\"\n  },\n  stockTextView: {\n    alignSelf: \"center\"\n  },\n  infoText: {\n    marginVertical: 6,\n    fontSize: 16,\n    lineHeight: 18,\n    color: Colors.secondaryLight\n  },\n  descriptionText: {\n    fontWeight: \"bold\"\n  },\n  costText: {\n    color: Colors.secondaryLight\n  },\n  sellText: {\n    color: Colors.secondaryLight\n  },\n  sellTextWithDiscount: {\n    color: Colors.discountIcon,\n    textDecorationLine: \"underline\",\n    textDecorationColor: Colors.discountIcon\n  },\n  discountTextView: {\n    lineHeight: 0,\n    padding: 0,\n    marginLeft: 6\n  },\n  imgView: {\n    marginHorizontal: 12\n  },\n  img: {\n    width: 100,\n    height: 100\n  }\n});","map":{"version":3,"sources":["/home/geovani/meu-comercio/mobile/src/View/pages/product/products.js"],"names":["React","Component","api","MaterialCommunityIcons","Header","TopBarGradient","FloatingButton","RootContainer","HeaderContainer","BodyContainer","Colors","productTypes","Product","state","productInfo","docs","page","loadProducts","get","response","data","setState","renderItem","item","props","navigation","navigate","styles","itemContainer","imgView","img","thumbnail","infoView","descriptionDiscountView","infoText","descriptionText","description","discountTextView","discount","discountIcon","pricesView","costLabel","costText","Number","costPrice","toFixed","bottomLineView","sellLabel","sellTextWithDiscount","sellPrice","sellText","stockTextView","stockText","stock","loadMore","pages","pageNumber","list","_id","StyleSheet","create","padding","flex","backgroundColor","borderBottomWidth","borderColor","flexDirection","alignContent","alignItems","marginRight","justifyContent","alignSelf","marginVertical","fontSize","lineHeight","color","secondaryLight","fontWeight","textDecorationLine","textDecorationColor","marginLeft","marginHorizontal","width","height"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  View,\n  Text,\n  FlatList,\n  TouchableOpacity,\n  StyleSheet,\n  Image,\n} from \"react-native\";\nimport api from \"../../../Controller/services/api\";\nimport MaterialCommunityIcons from \"react-native-vector-icons/MaterialCommunityIcons\";\n\nimport Header from \"../../components/Header\";\nimport TopBarGradient from \"../../components/TopBarGradient\";\nimport FloatingButton from \"../../components/FloatingButton\";\nimport RootContainer from \"../../components/RootContainer\";\nimport HeaderContainer from \"../../components/HeaderContainer\";\nimport BodyContainer from \"../../components/BodyContainer\";\nimport Colors from \"../../constants/colors\";\n\nimport { productTypes } from \"../../../Controller/db\";\n\nexport default class Product extends Component {\n  state = {\n    productInfo: {},\n    docs: [],\n    page: 1,\n    productTypes,\n  };\n\n  componentDidMount() {\n    this.loadProducts();\n  }\n\n  loadProducts = async (page = 1) => {\n    const response = await api.get(\"/products?page=\" + page);\n\n    const { docs, ...productInfo } = response.data;\n\n    this.setState({ docs: [...this.state.docs, ...docs], productInfo, page });\n  };\n\n  renderItem = ({ item }) => (\n    <TouchableOpacity\n      onPress={() => {\n        this.props.navigation.navigate(\"ProductDetails\", {\n          item,\n        });\n      }}\n    >\n      <View style={styles.itemContainer}>\n        <View style={styles.imgView}>\n          <Image style={styles.img} source={item.thumbnail} />\n        </View>\n        <View style={styles.infoView}>\n          <View style={styles.descriptionDiscountView}>\n            <Text style={{ ...styles.infoText, ...styles.descriptionText }}>\n              {item.description}\n            </Text>\n            <View style={styles.discountTextView}>\n              {item.discount > 0 ? (\n                <MaterialCommunityIcons\n                  name=\"sale\"\n                  color={Colors.discountIcon}\n                  size={18}\n                />\n              ) : (\n                <Text></Text>\n              )}\n            </View>\n          </View>\n          <View style={styles.pricesView}>\n            <MaterialCommunityIcons\n              name=\"arrow-right-circle-outline\"\n              color={Colors.costLabel}\n              size={18}\n            />\n            <Text style={{ ...styles.infoText, ...styles.costText }}>\n              R${Number(item.costPrice).toFixed(2)}\n            </Text>\n          </View>\n          <View style={styles.bottomLineView}>\n            <View style={styles.pricesView}>\n              <MaterialCommunityIcons\n                name=\"arrow-left-circle-outline\"\n                color={Colors.sellLabel}\n                size={18}\n              />\n              {item.discount > 0 ? (\n                <Text\n                  style={{ ...styles.infoText, ...styles.sellTextWithDiscount }}\n                >\n                  R${Number(item.sellPrice - item.discount).toFixed(2)}\n                </Text>\n              ) : (\n                <Text style={{ ...styles.infoText, ...styles.sellText }}>\n                  R${Number(item.sellPrice).toFixed(2)}\n                </Text>\n              )}\n            </View>\n            <View style={styles.stockTextView}>\n              <Text style={styles.stockText}>x{item.stock}</Text>\n            </View>\n          </View>\n        </View>\n      </View>\n    </TouchableOpacity>\n  );\n\n  loadMore = () => {\n    const { page, productInfo } = this.state;\n\n    if (page === productInfo.pages) {\n      return;\n    }\n\n    const pageNumber = page + 1;\n\n    this.loadProducts(pageNumber);\n  };\n\n  render() {\n    return (\n      <RootContainer>\n        <HeaderContainer>\n          <TopBarGradient />\n          <Header title=\"Produtos\" />\n        </HeaderContainer>\n        <BodyContainer>\n          <FlatList\n            contentContainerStyle={styles.list}\n            data={this.state.productTypes}\n            keyExtractor={(item) => item._id}\n            renderItem={this.renderItem}\n          />\n          <FloatingButton\n            icon={\"plus\"}\n            onPress={() => {\n              this.props.navigation.navigate(\"NewProduct\");\n            }}\n          />\n        </BodyContainer>\n      </RootContainer>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  list: {\n    padding: 0,\n  },\n  itemContainer: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    borderBottomWidth: 1,\n    borderColor: \"#ddd\",\n    padding: 6,\n    flexDirection: \"row\",\n  },\n\n  descriptionDiscountView: {\n    flex: 1,\n    flexDirection: \"row\",\n    alignContent: \"space-between\",\n  },\n\n  pricesView: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginRight: 6,\n  },\n  bottomLineView: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n  stockTextView: { alignSelf: \"center\" },\n\n  infoText: {\n    marginVertical: 6,\n    fontSize: 16,\n    lineHeight: 18,\n    color: Colors.secondaryLight,\n  },\n  descriptionText: {\n    fontWeight: \"bold\",\n  },\n  costText: {\n    color: Colors.secondaryLight,\n  },\n  sellText: {\n    color: Colors.secondaryLight,\n  },\n  sellTextWithDiscount: {\n    color: Colors.discountIcon,\n    textDecorationLine: \"underline\",\n    textDecorationColor: Colors.discountIcon,\n  },\n  discountTextView: {\n    lineHeight: 0,\n    padding: 0,\n    marginLeft: 6,\n  },\n  imgView: {\n    marginHorizontal: 12,\n  },\n  img: {\n    width: 100,\n    height: 100,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}